!function(t){"use strict";function e(t,e){this.options=e||{},this.container=t,this.overlay=null,this.dialog=null,this.init()}e.prototype.init=function(){this.dispatch("pureModalInit",{modal:this});const t=this.container.getAttribute("id");Boolean(t)&&document.querySelectorAll("."+t).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),this.open.call(this)}.bind(this))},this),this.container.querySelectorAll("data.pure-modal-load").forEach(function(t){this.load(t.value,function(e,o){let i={modal:this,data:t,status:e,response:o};this.dispatch("pureModalLoaded",i),200==i.status&&(t.outerHTML=i.response)})},this),this.dispatch("pureModalReady",{modal:this})},e.prototype.open=function(){this.container&&!this.overlay&&(this.dispatch("pureModalOpen",{modal:this}),this.container.querySelectorAll("data.pure-modal-defer").forEach(function(t){t.parentNode.insertBefore(e.parse(atob(t.value)),t),t.parentNode.removeChild(t)},this),this.build(),this.dialog.addEventListener("click",function(t){t.stopPropagation()}),this.overlay.addEventListener("click",this.close.bind(this)),this.overlay.querySelectorAll(".pure-modal-close").forEach(function(t){t.addEventListener("click",this.close.bind(this))},this),window.addEventListener("resize",function(t){window.requestAnimationFrame(function(t){this.setPosition(),this.removeScroll()}.bind(this))}.bind(this))),this.dispatch("pureModalOpened",{modal:this})},e.prototype.build=function(){this.overlay=document.createElement("div"),this.overlay.setAttribute("class","pure-modal-overlay"),this.overlay.setAttribute("style","position: fixed; top: 0; right: 0; bottom: 0; left: 0; overflow-x: hidden; overflow-y: auto; -webkit-overflow-scrolling: touch"),this.dialog=this.overlay.appendChild(document.createElement("div")),this.dialog.setAttribute("class","pure-modal-dialog"),this.dialog.setAttribute("style","position: relative; margin: 32px auto");const t=this.dialog.appendChild(document.createElement("div"));t.setAttribute("class","pure-modal-close"),t.textContent="Ã—",this.container.parentNode.insertBefore(this.overlay,this.container),this.dialog.appendChild(this.container),this.setPosition(),this.removeScroll(),this.overlay.classList.add("open")},e.prototype.close=function(){this.container&&this.overlay&&(this.overlay.classList.remove("open"),this.dialog.style.marginTop=0,this.dispatch("pureModalClose",{modal:this}),setTimeout(function(){this.overlay.parentNode.insertBefore(this.container,this.overlay),this.overlay.parentNode.removeChild(this.overlay),this.overlay=this.dialog=null,this.resetScroll(),this.dispatch("pureModalClosed",{modal:this})}.bind(this),this.options.fadeout||250))},e.prototype.setPosition=function(){let t=(this.overlay.clientHeight-this.dialog.scrollHeight)/2;this.dialog.style.marginTop=Math.max(t,this.options.marginTop||32)+"px"},e.prototype.removeScroll=function(){var t=window.innerWidth-document.documentElement.clientWidth+"px";document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.paddingRight=t},e.prototype.resetScroll=function(){document.body.style.paddingRight="",document.body.style.overflow="",document.documentElement.style.overflow=""},e.prototype.dispatch=function(t,e){this.container.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))},e.prototype.load=function(t,e){var o=new XMLHttpRequest;o.open("GET",t),o.send(),o.onload=function(t){e.call(this,o.status,o.responseText)}.bind(this)},Object.defineProperty(e,"parse",{configurable:!0,value:function(t){if(t&&"string"==typeof t){var o=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=t;i.children.length;)"script"==i.children[0].tagName.toLowerCase()?(o.appendChild(e.clone(i.children[0])),i.removeChild(i.children[0])):o.appendChild(i.children[0]);return o}return t||document.createDocumentFragment()}}),Object.defineProperty(e,"clone",{configurable:!0,value:function(t){var e=document.createElement(t.tagName.toLowerCase());e.textContent=t.textContent;for(var o=0,i=t.attributes.length;o<i;o++)e.setAttribute(t.attributes[o].nodeName,t.attributes[o].nodeValue);return e}}),Object.defineProperty(e,"auto",{configurable:!0,value:function(){document.querySelectorAll(".pure-modal-container").forEach(function(t){new e(t,JSON.parse(t.dataset.pureModal||"{}"))})}}),Object.defineProperty(e,"ready",{configurable:!0,value:function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),t.Modal=e,t.Modal.ready(t.Modal.auto)}(window.pure=window.pure||{});